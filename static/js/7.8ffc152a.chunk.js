(this["webpackJsonpapp-name"]=this["webpackJsonpapp-name"]||[]).push([[7],{91:function(e,t,s){},95:function(e,t,s){"use strict";s.r(t);var a=s(0),l=s(11),c=s(12),n=s(14),i=s(13),o=s(1),r=(s(91),s(4),s(18)),d=s(15),j=s(6),b=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={result:[],resultobj:[],approvePosts:[],pendingPosts:[],rejectPosts:[],NumberOfAllPosts:0,NumberOf_ApprovePosts:0,NumberOf_PendingPosts:0,NumberOf_RejectPosts:0,Isdeleted:!1,Isapporved:!1},e.delete=function(t){console.log(t),d.a.delete("/post/delete/".concat(t)).then((function(t){console.log(t),e.setState({Isdeleted:!0})})).catch((function(e){console.log(e)}))},e.logout=function(){console.log("in log out"),localStorage.removeItem("token")},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/post/all").then((function(t){console.log(t.data);var s=[];for(var a in t.data)s.push(s[a]=t.data[a]);console.log(s),e.setState({resultobj:s}),console.log(e.state.resultobj),e.setState({result:e.state.resultobj.posts}),console.log(e.state.result)})).catch((function(e){console.log(e)}))}},{key:"MakeApprove",value:function(e){var t=this;console.log(e);d.a.patch("/post/pendeing-action/".concat(e),{statusUnit:"approve"}).then((function(e){console.log(e),t.setState({Isapporved:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return console.log(this.state.result),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(a.jsx)("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)(j.b,{className:"navbar-brand",to:"/home",children:[Object(a.jsx)("img",{src:r.a,width:"30",height:"30",className:"d-inline-block align-top ml-lg-5",alt:""}),Object(a.jsx)("span",{className:"menu-collapsed",children:"Renty"})]}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(a.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(a.jsx)("li",{className:"nav-item mr-3",children:Object(a.jsxs)("div",{className:"dropdown",children:[Object(a.jsx)("button",{className:"btn dropdown-toggle profile-btn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(a.jsxs)("span",{className:"nav-admin-name",children:["  Admin ",Object(a.jsx)("i",{className:"bi bi-caret-down-fill"})]})}),Object(a.jsxs)("div",{className:"dropdown-menu profile-dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(a.jsx)(j.b,{className:"dropdown-item",to:"/profile",children:"Profile"}),Object(a.jsx)(j.b,{className:"dropdown-item",to:"/home",children:"Go to Renty"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)(j.b,{className:"dropdown-item",to:"/login",onClick:this.logout,children:"Log Out"})]})]})}),Object(a.jsxs)("li",{className:"nav-item dropdown d-sm-block d-md-none",children:[Object(a.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"smallerscreenmenu","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Menu"}),Object(a.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"smallerscreenmenu",children:[Object(a.jsx)("a",{className:"dropdown-item",href:"#",children:"Dashboard"}),Object(a.jsx)("a",{className:"dropdown-item",href:"#",children:"Profile"}),Object(a.jsx)("a",{className:"dropdown-item",href:"#",children:"Tasks"}),Object(a.jsx)("a",{className:"dropdown-item",href:"#",children:"Etc ..."})]})]})]})})]}),Object(a.jsxs)("div",{className:"row",id:"body-row",children:[Object(a.jsx)("div",{id:"sidebar-container",className:"sidebar-expanded d-none d-md-block",children:Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed",children:Object(a.jsx)("small",{children:"MAIN MENU"})}),Object(a.jsx)(j.b,{to:"/admin",className:"bg-dark list-group-item list-group-item-action",children:Object(a.jsxs)("div",{className:"d-flex w-100 justify-content-start align-items-center",children:[Object(a.jsx)("i",{className:"bi bi-speedometer2 mr-3"}),Object(a.jsx)("span",{className:"menu-collapsed",children:"Dashboard"})]})}),Object(a.jsx)("a",{href:"#submenu1","data-toggle":"collapse","aria-expanded":"false",className:"bg-dark list-group-item list-group-item-action flex-column align-items-start",children:Object(a.jsxs)("div",{className:"d-flex w-100 justify-content-start align-items-center",children:[Object(a.jsx)("i",{className:"bi bi-stickies mr-3"}),Object(a.jsx)("span",{className:"menu-collapsed",children:"Posts"}),Object(a.jsx)("span",{className:"submenu-icon ml-auto"})]})}),Object(a.jsx)("div",{id:"submenu1",className:"collapse sidebar-submenu",children:Object(a.jsx)(j.b,{to:"/admin/posts",className:"list-group-item list-group-item-action bg-dark text-white",children:Object(a.jsx)("span",{className:"menu-collapsed",children:"View All Posts"})})}),Object(a.jsx)("a",{href:"#submenu2","data-toggle":"collapse","aria-expanded":"false",className:"bg-dark list-group-item list-group-item-action flex-column align-items-start",children:Object(a.jsxs)("div",{className:"d-flex w-100 justify-content-start align-items-center",children:[Object(a.jsx)("i",{className:"bi bi-people mr-3"}),Object(a.jsx)("span",{className:"menu-collapsed",children:"Users"}),Object(a.jsx)("span",{className:"submenu-icon ml-auto"})]})}),Object(a.jsx)("div",{id:"submenu2",className:"collapse sidebar-submenu",children:Object(a.jsx)(j.b,{to:"/admin/users",className:"list-group-item list-group-item-action bg-dark text-white",children:Object(a.jsx)("span",{className:"menu-collapsed",children:"View All Users"})})})]})}),Object(a.jsxs)("div",{className:"col container",children:[Object(a.jsxs)("div",{className:"content-heading mt-5 ml-2",children:[this.state.Isdeleted&&Object(a.jsxs)("div",{class:"col-6 mx-auto alert alert-danger alert-dismissible fade show",role:"alert",children:["Post has been",Object(a.jsx)("strong",{children:" Deleted"}),".",Object(a.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),this.state.Isapporved&&Object(a.jsxs)("div",{class:"col-6 mx-auto alert alert-success alert-dismissible fade show",role:"alert",children:["Post has been",Object(a.jsx)("strong",{children:" Approved"}),".",Object(a.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsx)("h4",{children:"All Posts"})]}),Object(a.jsx)("div",{className:"table-wrapper mt-3",children:Object(a.jsxs)("table",{id:"table_id",className:"display",style:{width:"100%"},children:[Object(a.jsx)("thead",{className:"bg-dark text-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Post Tittle"}),Object(a.jsx)("th",{children:"Price"}),Object(a.jsx)("th",{children:"Category"}),Object(a.jsx)("th",{children:"Guests"}),Object(a.jsx)("th",{children:"Bedrooms"}),Object(a.jsx)("th",{children:"Bathrooms"}),Object(a.jsx)("th",{children:"Status"}),Object(a.jsx)("th",{children:"Action"})]})}),Object(a.jsx)("tbody",{children:this.state.result.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.titleUnit}),Object(a.jsx)("td",{children:t.rentalPriceUnit}),Object(a.jsx)("td",{children:t.categoryUnit}),Object(a.jsx)("td",{children:t.guestsUnit}),Object(a.jsx)("td",{children:t.bedroomsUnit}),Object(a.jsx)("td",{children:t.bathroomsUnit}),"pending"===t.statusUnit?Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return e.MakeApprove(t._id)},className:"post-status pending","data-toggle":"tooltip","data-placement":"top",title:"Click To Approve",children:t.statusUnit})}):Object(a.jsx)("td",{children:Object(a.jsx)("span",{className:"post-status approve","data-toggle":"tooltip","data-placement":"top",title:"Approve post",children:t.statusUnit})}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{style:{backgroundColor:"white",borderColor:"white"},onClick:function(){return e.delete(t._id)},children:Object(a.jsx)("i",{className:"bi bi-trash text-danger"})})})]})}))})]})}),Object(a.jsx)("div",{className:"add-btn-wrapper",children:"                        "}),Object(a.jsx)("footer",{className:"mt-5",children:Object(a.jsx)("div",{className:"footer mt-5 p-3 text-center text-dark ",children:Object(a.jsx)("span",{children:"Copyright copy 2021 All rights reserved | Made with \u2665 by ITI Aswan Mearn Stack"})})})]})]})]})}}]),s}(o.Component);t.default=b}}]);
//# sourceMappingURL=7.8ffc152a.chunk.js.map