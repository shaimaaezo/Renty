(this["webpackJsonpapp-name"]=this["webpackJsonpapp-name"]||[]).push([[4],{100:function(e,t,s){"use strict";s.r(t);var a=s(0),l=s(78),c=s(11),i=s(12),r=s(14),n=s(13),o=s(1),d=(s(82),s(15)),b=s(4),j=s.n(b),m=function(){return Object(a.jsx)("footer",{className:"footer mt-5",children:Object(a.jsx)("div",{className:"footer-area",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-sm col-lg-4 col-8",children:Object(a.jsxs)("div",{className:"footer-contect-wrapper",children:[Object(a.jsx)("h3",{className:"footer-heading mb-4",children:"Our Mission"}),Object(a.jsx)("p",{children:"So seed seed green that winged cattle in. Gathering thing made fly you're no divided deep moved us lan Gathering thing us land years living. So seed seed green that winged cattle in. Gathering thing made fly you're no divided deep moved"})]})}),Object(a.jsx)("div",{className:"col col-lg-2 col-4",children:Object(a.jsxs)("div",{className:"footer-contect-wrapper",children:[Object(a.jsx)("h4",{className:"footer-heading mb-4",children:"Quick Links"}),Object(a.jsxs)("ul",{className:"list-unstyled footer-list",children:[Object(a.jsx)("li",{className:"text-white",children:"About Us"}),Object(a.jsx)("li",{className:"text-white",children:"Services"}),Object(a.jsx)("li",{className:"text-white",children:"Testimonials"}),Object(a.jsx)("li",{className:"text-white",children:"Contact Us"})]})]})}),Object(a.jsx)("div",{className:"col col-lg-3 col-8",children:Object(a.jsxs)("div",{className:"footer-contect-wrapper",children:[Object(a.jsx)("h4",{className:"footer-heading mb-4",children:"Contact Info"}),Object(a.jsxs)("ul",{className:"list-unstyled contact-list",children:[Object(a.jsxs)("li",{className:"contact-item phone",children:[Object(a.jsx)("i",{className:"bi bi-telephone-fill mr-3"})," +2 392 3929 210"]}),Object(a.jsxs)("li",{className:"contact-item email",children:[Object(a.jsx)("i",{className:"bi bi-envelope-fill mr-3"})," renty@domain.com"]})]})]})}),Object(a.jsx)("div",{className:"col col-lg-3 col-4",children:Object(a.jsxs)("div",{className:"footer-contect-wrapper",children:[Object(a.jsx)("h4",{className:"footer-heading mb-2",children:"Follow Us"}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"bi bi-facebook ml-3 mr-3"})}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"bi bi-twitter mr-3"})}),Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"bi bi-google"})})]})})]}),Object(a.jsx)("div",{className:"row text-center copyright",children:Object(a.jsxs)("span",{children:["Copyright copy 2021 All rights reserved | Made with ",Object(a.jsx)("i",{className:"bi bi-heart-fill mr-1 ml-1"})," by ITI Aswan Mearn Stack"]})})]})})})},h=s(6),p=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(i.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"posts-wrapper",children:Object(a.jsxs)("div",{className:"d-block d-md-flex listing-horizontal",children:[Object(a.jsx)("img",{className:"img d-block post-img",src:"http://localhost:4000/"+this.props.posts.imagesRentalUnit[0],alt:""}),Object(a.jsx)("span",{className:"status ",children:this.props.posts.statusUnit}),Object(a.jsxs)("div",{className:"post-content align-self-center pl-4 pt-4 pb-4 pr-4",children:[Object(a.jsx)("h3",{className:"post-tittle",children:this.props.posts.titleUnit}),Object(a.jsx)("p",{children:this.props.posts.locationUnit}),Object(a.jsxs)("p",{className:"description",children:[this.props.posts.descriptionUnit,"."]}),Object(a.jsxs)("div",{className:"post-review",children:[Object(a.jsx)("span",{className:"bi bi-star-fill checked"}),Object(a.jsx)("span",{className:"bi bi-star-fill checked"}),Object(a.jsx)("span",{className:"bi bi-star-fill checked"}),Object(a.jsx)("span",{className:"bi bi-star-fill"}),Object(a.jsx)("span",{className:"bi bi-star-fill"}),Object(a.jsx)("span",{className:"review-numder ml-1",children:"(3 Reviews)"})]}),Object(a.jsx)("div",{className:"container text-end",children:Object(a.jsx)("span",{children:Object(a.jsxs)(h.b,{to:"/profile/details/".concat(this.props.posts._id),className:"details-btn btn btn-outline mt-3",children:["View Details ",Object(a.jsx)("i",{className:"bi bi-arrow-right"})]})})})]})]})})}}]),s}(o.Component),u=s(28),O=s(25),x=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){var e;Object(c.a)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={result:[],isClick:!1,profilePic:null,postsfromUSER:[],foundPosts:!1,role:"",booking:[],resultBOOKING:[],Isdeleted:!1},e.handelChangtext=function(t){var s=Object(l.a)({},e.state.result);s[t.currentTarget.name]=t.currentTarget.value,e.setState({result:s})},e.PatchData=function(t){t.preventDefault(),e.setState({isClick:!1}),e.handelUPLOADImage();var s={firstName:e.state.result.firstName,lastName:e.state.result.lastName,email:e.state.result.email,address:e.state.result.address,phoneNumber:e.state.result.phoneNumber,about:e.state.result.about};d.a.patch("/user/update",s).then((function(t){console.log(t.data.user,"res"),e.setState({result:t.data.user})}))},e.handelFILEimages=function(t){e.setState({profilePic:t.target.files[0]})},e.handelUPLOADImage=function(){var t=new FormData;t.append("profilePic",e.state.profilePic,e.state.profilePic.name),d.a.patch("/user/image-profile",t).then((function(e){console.log(e),console.log("in handelUPLOAD")})).catch((function(e){console.log(e)})),console.log(e.state.result.profilePic)},e.GOdashBoard=function(){e.props.history.push("/admin")},e.getBOOKING=function(t){d.a.get("/book/".concat(t)).then((function(t){console.log(t);var s=[];for(var a in t.data.booking)s.push(s[a]=t.data.booking[a]);e.setState({resultBOOKING:s}),console.log(e.state.resultBOOKING)})).catch((function(e){console.log(e)}))},e.handelBooking=function(t){var s=Object(l.a)({},e.state.resultBOOKING);s[t.currentTarget.name]=t.currentTarget.value,e.setState({resultBOOKING:s})},e.deletebooking=function(t){d.a.delete("/book/".concat(t)).then((function(t){console.log(t),e.setState({Isdeleted:!0})}))},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this;j()(document).on("click",".upload-field",(function(){j()(this).parent().parent().parent().find(".input-file").trigger("click")})),j()(document).on("change",".input-file",(function(){j()(this).parent().find(".form-control").val(j()(this).val().replace(/C:\\fakepath\\/i,""))})),d.a.get("/user").then((function(t){console.log("iam in get"),console.log(t.data.Data);var s=[];for(var a in t.data.Data)s.push(s[a]=t.data.Data[a]);e.setState({result:s}),console.log(e.state.result),e.setState({postsfromUSER:e.state.result.posts}),console.log(e.state.postsfromUSER),e.setState({role:e.state.result.role}),e.setState({booking:e.state.result.bookings})}))}},{key:"render",value:function(){var e=this;console.log(this.state.postsfromUSER);var t=u.a;return this.state.result.profilePic&&(console.log("ther are image"),console.log("http://localhost:4000/"+this.state.result.profilePic),t="http://localhost:4000/"+this.state.result.profilePic),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a,{}),Object(a.jsxs)("div",{class:"alert alert-success alert-dismissible fade show",role:"alert",children:[Object(a.jsx)("strong",{children:"Congratulaions!"})," You Successfully booked this property.",Object(a.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsx)("section",{className:"posts-container mt-5",id:"posts-container",children:Object(a.jsxs)("div",{className:"container",children:[this.state.Isdeleted&&Object(a.jsxs)("div",{class:"col-6 mx-auto alert alert-success alert-dismissible fade show",role:"alert",children:["You ",Object(a.jsx)("strong",{children:" Deleted "}),"your booking.",Object(a.jsx)("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsxs)("div",{className:"row profile-wrapper",children:[Object(a.jsx)("div",{className:"col-lg-4",children:Object(a.jsxs)("div",{className:"card profile-card mb-5",children:[Object(a.jsx)("img",{src:t,className:"card-img-top profile-img",alt:""}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title text-center",children:this.state.result.firstName}),Object(a.jsx)("div",{className:"col-3"})]}),Object(a.jsxs)("ul",{className:"list-group list-group-flush",children:[this.state.result.address&&Object(a.jsxs)("li",{className:"list-group-item profile-list-item",children:[Object(a.jsx)("i",{className:"bi bi-geo-alt mr-3"})," ",this.state.result.address," "]}),Object(a.jsxs)("li",{className:"list-group-item profile-list-item",children:[Object(a.jsx)("i",{className:"bi bi-envelope mr-3"})," ",this.state.result.email]}),this.state.result.phoneNumber&&Object(a.jsxs)("li",{className:"list-group-item profile-list-item",children:[Object(a.jsx)("i",{className:"bi bi-telephone mr-3"})," ",this.state.result.phoneNumber]})]}),Object(a.jsxs)("div",{className:"card-body text-center",children:[Object(a.jsxs)("button",{type:"button",className:"btn btn-edit mb-3","data-toggle":"modal","data-target":"#exampleModal",children:[Object(a.jsx)("i",{className:"bi bi-pencil-square"})," Edit Profile"]}),Object(a.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(a.jsx)("div",{className:"modal-dialog",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Profile"}),Object(a.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group row",children:[Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",name:"firstName",defaultValue:this.state.result.firstName,onChange:this.handelChangtext})}),Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",name:"lastName",defaultValue:this.state.result.lastName,onChange:this.handelChangtext})})]}),Object(a.jsxs)("div",{className:"input-group form-group",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("div",{className:"input-group-text",children:Object(a.jsx)("i",{className:"bi bi-telephone"})})}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Phone number",name:"phoneNumber",defaultValue:this.state.result.phoneNumber,onChange:this.handelChangtext})]}),Object(a.jsxs)("div",{className:"input-group form-group",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("div",{className:"input-group-text",children:Object(a.jsx)("i",{className:"bi bi-geo-alt"})})}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Address",name:"address",defaultValue:this.state.result.address,onChange:this.handelChangtext})]}),Object(a.jsx)("div",{className:"form-group img-form",children:Object(a.jsx)("div",{class:"col-lg-9",children:Object(a.jsx)("div",{class:"",children:Object(a.jsx)("div",{class:"mb-3",children:Object(a.jsx)("input",{class:"form-control",name:"img[]",type:"file",id:"formFileMultiple",onChange:this.handelFILEimages,defaultValue:this.state.result.profilePic})})})})}),Object(a.jsxs)("div",{className:"form-group align-text-left",children:[Object(a.jsx)("label",{htmlFor:"exampleFormControlTextarea1 float-left",children:"About"}),Object(a.jsx)("textarea",{className:"form-control",rows:"2",name:"about",defaultValue:this.state.result.about,onChange:this.handelChangtext})]}),Object(a.jsxs)("button",{type:"submit",className:"btn btn-edit-form",onClick:this.PatchData,children:["Save Changes ",Object(a.jsx)("i",{className:"bi bi-check2"})]})]})})]})})})]})]})}),Object(a.jsxs)("div",{className:"col-lg-8 ml-auto",children:[Object(a.jsx)("div",{className:"row p-3",children:Object(a.jsxs)("h3",{children:["Hi,I'm ",this.state.result.firstName]})}),Object(a.jsx)("div",{className:"row p-3",children:Object(a.jsx)("h3",{className:"about-txt",children:"About"})}),Object(a.jsx)("div",{className:"row pr-3 pl-3 mb-3",children:Object(a.jsx)("p",{className:"card-text",children:this.state.result.about})}),Object(a.jsx)("div",{className:"row text-center",children:Object(a.jsx)("div",{className:"col host-home-linl",children:"admin"===this.state.role&&Object(a.jsx)("button",{className:"btn home-post-btn ml-2 mt-3",onClick:this.GOdashBoard,children:"Go to Dashboard"})})}),"admin"!==this.state.role&&Object(a.jsxs)("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsxs)("a",{className:"nav-link active",id:"posts-tab","data-toggle":"tab",href:"#mypost",role:"tab","aria-controls":"mypost","aria-selected":"true",children:[Object(a.jsx)("i",{className:"bi bi-list-ul tab-icon"})," My Posts"]})}),Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsxs)("a",{className:"nav-link",id:"cart-tab","data-toggle":"tab",href:"#mycart",role:"tab","aria-controls":"mycart","aria-selected":"false",children:[Object(a.jsx)("i",{className:"bi bi-cart2 tab-icon"})," My Booking Cart"]})}),Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsxs)("a",{className:"nav-link",id:"booked-tab","data-toggle":"tab",href:"#booked",role:"tab","aria-controls":"booked","aria-selected":"false",children:[Object(a.jsx)("i",{className:"bi bi-bell tab-icon"})," Who Booked My Property"]})})]}),"admin"!==this.state.role&&Object(a.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[Object(a.jsx)("div",{className:"tab-pane fade show active",id:"mypost",role:"tabpanel","aria-labelledby":"home-tab",children:this.state.postsfromUSER.map((function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(p,{posts:e},parseInt(e._id))})}))}),Object(a.jsx)("div",{className:"tab-pane fade",id:"mycart",role:"tabpanel","aria-labelledby":"cart-tab",children:this.state.booking.map((function(t){return Object(a.jsx)("div",{className:"col-9 mb-4",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"card",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)(h.b,{to:"/profile/details/".concat(t.bookedPost._id),className:"cart-title",children:Object(a.jsx)("h5",{className:"card-title book-title",children:t.bookedPost.titleUnit})}),Object(a.jsxs)("h5",{className:"card-subtitle mb-2 text-muted",children:["booking from ",new Date(t.checkIn).toLocaleString().split(",")[0]," to ",new Date(t.checkOut).toLocaleString().split(",")[0]," ... "]}),Object(a.jsxs)("p",{className:"card-subtitle mb-2 text-muted",children:["Total amount: ",t.amount]}),Object(a.jsx)("div",{className:"container text-end",children:Object(a.jsx)("button",{onClick:function(){return e.deletebooking(t._id)},type:"button",className:"btn btn-outline-danger mt-3","data-toggle":"modal","data-target":"#detailsModal",children:"Delete"})})]})})})})}))}),Object(a.jsx)("div",{className:"tab-pane fade",id:"booked",role:"tabpanel","aria-labelledby":"booked-tab",children:this.state.postsfromUSER.map((function(e){return Object(a.jsx)(a.Fragment,{children:e.bookings.map((function(t){return Object(a.jsx)("div",{className:"row m-3",children:Object(a.jsx)("div",{className:"card booking-card",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("img",{className:"user-pic mr-3",src:"http://localhost:4000/"+t.bookingUser.profilePic,alt:"user profile"}),Object(a.jsx)("span",{children:t.bookingUser.email}),Object(a.jsxs)("div",{className:"hover_content",children:[Object(a.jsxs)("ul",{className:"list-group booking-info-list",children:[Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("i",{className:"bi bi-bookmarks mr-3"}),e.titleUnit," "]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("i",{className:"bi bi-bookmarks mr-3"}),t.bookingUser.firstName," ",t.bookingUser.lastName," "]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("i",{className:"bi bi-calendar-week mr-3"})," booking from ",new Date(t.checkIn).toLocaleString().split(",")[0]," to ",new Date(t.checkOut).toLocaleString().split(",")[0]]}),Object(a.jsxs)("li",{className:"list-group-item",children:[Object(a.jsx)("i",{className:"bi bi-people mr-3"})," ",t.adults," Guests"]})]}),Object(a.jsx)("div",{className:"card-footer",children:Object(a.jsx)("div",{className:"row total-amount pl-3 justify-content",children:Object(a.jsxs)("span",{className:"earn",children:["You Will Earn: ",Object(a.jsxs)("strong",{children:[t.amount," LE"]})]})})})]})]})})})}))})}))})]}),Object(a.jsx)("div",{className:"row text-center",children:Object(a.jsx)("div",{className:"col host-home-linl",children:Object(a.jsx)(h.b,{to:"/profile/post",className:"btn home-post-btn2 ml-2 mt-3",children:"Host New Property "})})})]})]})]})}),Object(a.jsx)(m,{})]})}}]),s}(o.Component);t.default=x},78:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var a=s(79);function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(a.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},79:function(e,t,s){"use strict";function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,"a",(function(){return a}))},82:function(e,t,s){}}]);
//# sourceMappingURL=4.9688fd4e.chunk.js.map