{"version":3,"sources":["admin/adminPost/getALLpost.js"],"names":["AllPosts","state","result","resultobj","approvePosts","pendingPosts","rejectPosts","NumberOfAllPosts","NumberOf_ApprovePosts","NumberOf_PendingPosts","NumberOf_RejectPosts","Isdeleted","Isapporved","delete","postID","console","log","axios","then","res","setState","catch","err","logout","localStorage","removeItem","get","data","getData","key","push","posstID","patch","statusUnit","this","className","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","to","src","logo","width","height","alt","id","aria-haspopup","aria-labelledby","onClick","href","class","role","data-dismiss","aria-hidden","style","map","post","titleUnit","rentalPriceUnit","categoryUnit","guestsUnit","bedroomsUnit","bathroomsUnit","MakeApprove","_id","data-placement","title","backgroundColor","borderColor","Component"],"mappings":"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","file":"static/js/7.8ffc152a.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './getALLpost.css'\r\nimport $ from 'jquery'\r\nimport logo from '../../imgs/logo.png'\r\nimport axios from '../../axiosConfig/axios'\r\nimport { Link } from 'react-router-dom';\r\n\r\n/* \r\nimport '../../../node_modules/datatables.net-dt/css/jquery.dataTables.css'\r\nimport '../../../node_modules/datatables.net-dt/js/dataTables.dataTables.min.js' */\r\n\r\nclass AllPosts extends Component {\r\n\r\n    state = {\r\n        result: [],\r\n        resultobj: [],\r\n        approvePosts: [],\r\n        pendingPosts: [],\r\n        rejectPosts: [],\r\n        NumberOfAllPosts: 0,\r\n        NumberOf_ApprovePosts: 0,\r\n        NumberOf_PendingPosts: 0,\r\n        NumberOf_RejectPosts: 0,\r\n\r\n        Isdeleted: false,\r\n        Isapporved: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        /* $('#table_id').DataTable();\r\n\r\n        $(function () {\r\n        $('[data-toggle=\"tooltip\"]').tooltip()\r\n        }) */\r\n\r\n        axios.get('/post/all').then(res => {\r\n            console.log(res.data)\r\n            const getData = []\r\n            for (let key in res.data) {\r\n                getData.push(\r\n                    getData[key] = res.data[key]\r\n                )\r\n            }\r\n            console.log(getData)\r\n            this.setState({ resultobj: getData })\r\n            console.log(this.state.resultobj)\r\n\r\n            this.setState({ result: this.state.resultobj['posts'] })\r\n            console.log(this.state.result)\r\n\r\n        }).catch(err => { console.log(err) })\r\n\r\n    }\r\n\r\n    //admin@renty.com\r\n    //admin1\r\n\r\n    delete = (postID) => {\r\n        console.log(postID)\r\n        axios.delete(`/post/delete/${postID}`).then(res => {\r\n            console.log(res)\r\n            this.setState({ Isdeleted: true })\r\n        }).catch(err => { console.log(err) })\r\n    }\r\n\r\n    MakeApprove(posstID) {\r\n        console.log(posstID)\r\n        const data = {\r\n            statusUnit: \"approve\"\r\n        }\r\n        axios.patch(`/post/pendeing-action/${posstID}`, data).then(res => {\r\n            console.log(res)\r\n            this.setState({ Isapporved: true })\r\n        }).catch(err => { console.log(err) })\r\n    }\r\n\r\n    logout=()=>{\r\n        console.log('in log out')\r\n        localStorage.removeItem('token')\r\n      }\r\n\r\n    render() {\r\n        console.log(this.state.result)\r\n        return (\r\n            <>\r\n                <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n                    <button className=\"navbar-toggler navbar-toggler-right\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <Link className=\"navbar-brand\" to=\"/home\">\r\n                        <img src={logo} width=\"30\" height=\"30\" className=\"d-inline-block align-top ml-lg-5\" alt=\"\" />\r\n                        <span className=\"menu-collapsed\">Renty</span>\r\n                    </Link>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n\r\n\r\n                        <li className=\"nav-item mr-3\">\r\n                                <div className=\"dropdown\">\r\n                                    <button className=\"btn dropdown-toggle profile-btn\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                        <span className=\"nav-admin-name\">  Admin <i className=\"bi bi-caret-down-fill\"></i></span>\r\n                                    </button>\r\n                                    <div className=\"dropdown-menu profile-dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                        <Link className=\"dropdown-item\" to=\"/profile\">Profile</Link>\r\n                                        <Link className=\"dropdown-item\" to=\"/home\">Go to Renty</Link>\r\n                                        <div className=\"dropdown-divider\"></div>\r\n                                        <Link className=\"dropdown-item\" to=\"/login\" onClick={this.logout}>Log Out</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li className=\"nav-item dropdown d-sm-block d-md-none\">\r\n                                <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"smallerscreenmenu\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    Menu\r\n            </a>\r\n                                <div className=\"dropdown-menu\" aria-labelledby=\"smallerscreenmenu\">\r\n                                    <a className=\"dropdown-item\" href=\"#\">Dashboard</a>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Profile</a>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Tasks</a>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Etc ...</a>\r\n                                </div>\r\n                            </li>\r\n\r\n                        </ul>\r\n\r\n                    </div>\r\n                </nav>\r\n\r\n\r\n\r\n                <div className=\"row\" id=\"body-row\">\r\n                    <div id=\"sidebar-container\" className=\"sidebar-expanded d-none d-md-block\">\r\n                        <ul className=\"list-group\">\r\n                            <li className=\"list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed\">\r\n                                <small>MAIN MENU</small>\r\n                            </li>\r\n                            <Link to=\"/admin\" className=\"bg-dark list-group-item list-group-item-action\">\r\n                                <div className=\"d-flex w-100 justify-content-start align-items-center\">\r\n                                    <i className=\"bi bi-speedometer2 mr-3\"></i>\r\n                                    <span className=\"menu-collapsed\">Dashboard</span>\r\n                                </div>\r\n                            </Link>\r\n\r\n                            <a href=\"#submenu1\" data-toggle=\"collapse\" aria-expanded=\"false\" className=\"bg-dark list-group-item list-group-item-action flex-column align-items-start\">\r\n                                <div className=\"d-flex w-100 justify-content-start align-items-center\">\r\n                                    <i className=\"bi bi-stickies mr-3\"></i>\r\n                                    <span className=\"menu-collapsed\">Posts</span>\r\n                                    <span className=\"submenu-icon ml-auto\"></span>\r\n                                </div>\r\n                            </a>\r\n                            <div id='submenu1' className=\"collapse sidebar-submenu\">\r\n                                <Link to='/admin/posts' className=\"list-group-item list-group-item-action bg-dark text-white\">\r\n                                    <span className=\"menu-collapsed\">View All Posts</span>\r\n                                </Link>\r\n                                {/* <a href=\"addpost.html\" className=\"list-group-item list-group-item-action bg-dark text-white\">\r\n                                    <span className=\"menu-collapsed\">Add New Post</span>\r\n                                </a> */}\r\n                            </div>\r\n\r\n\r\n                            <a href=\"#submenu2\" data-toggle=\"collapse\" aria-expanded=\"false\" className=\"bg-dark list-group-item list-group-item-action flex-column align-items-start\">\r\n                                <div className=\"d-flex w-100 justify-content-start align-items-center\">\r\n                                    <i className=\"bi bi-people mr-3\"></i>\r\n                                    <span className=\"menu-collapsed\">Users</span>\r\n                                    <span className=\"submenu-icon ml-auto\"></span>\r\n                                </div>\r\n                            </a>\r\n                            <div id='submenu2' className=\"collapse sidebar-submenu\">\r\n                                <Link to='/admin/users' className=\"list-group-item list-group-item-action bg-dark text-white\">\r\n                                    <span className=\"menu-collapsed\">View All Users</span>\r\n                                </Link>\r\n                                {/* <a href=\"#\" className=\"list-group-item list-group-item-action bg-dark text-white\">\r\n                                    <span className=\"menu-collapsed\">Add New User</span>\r\n                                </a> */}\r\n                            </div>\r\n\r\n\r\n\r\n\r\n                            {/* <li className=\"list-group-item sidebar-separator-title text-muted d-flex align-items-center menu-collapsed\">\r\n                                <small>OPTIONS</small>\r\n                            </li>\r\n\r\n                            <a href=\"#\" className=\"bg-dark list-group-item list-group-item-action\">\r\n                                <div className=\"d-flex w-100 justify-content-start align-items-center\">\r\n                                    <i className=\"bi bi-envelope mr-3\"></i>\r\n                                    <span className=\"menu-collapsed\">Contact Us<span className=\"badge badge-pill badge-primary ml-2\">5</span></span>\r\n                                </div>\r\n                            </a>\r\n                            <li className=\"list-group-item sidebar-separator menu-collapsed\"></li>\r\n                            <a href=\"#\" className=\"bg-dark list-group-item list-group-item-action\">\r\n                                <div className=\"d-flex w-100 justify-content-start align-items-center\">\r\n                                    <i className=\"bi bi-question-circle mr-3\"></i>\r\n                                    <span className=\"menu-collapsed\">Help</span>\r\n                                </div>\r\n                            </a>\r\n                            <a href=\"#\" data-toggle=\"sidebar-colapse\" className=\"bg-dark list-group-item list-group-item-action d-flex align-items-center\">\r\n                                <div className=\"d-flex w-100 justify-content-start align-items-center\">\r\n                                    <i className=\"bi bi-chevron-double-left mr-3\"></i>\r\n                                    <span id=\"collapse-text\" className=\"menu-collapsed\">Collapse</span>\r\n                                </div>\r\n                            </a>*/}\r\n\r\n                        </ul>\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n                    <div className=\"col container\">\r\n\r\n                        <div className=\"content-heading mt-5 ml-2\">\r\n                        {this.state.Isdeleted &&\r\n                            <div class=\"col-6 mx-auto alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n                                Post has been<strong> Deleted</strong>.\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                            </div>\r\n                        }\r\n\r\n                        {this.state.Isapporved &&\r\n                            <div class=\"col-6 mx-auto alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                                Post has been<strong> Approved</strong>.\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                            </div>\r\n                        }\r\n                            <h4>All Posts</h4>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"table-wrapper mt-3\">\r\n\r\n                            <table id=\"table_id\" className=\"display\" style={{ width: \"100%\" }}>\r\n                                <thead className=\"bg-dark text-light\">\r\n                                    <tr>\r\n\r\n                                        <th>Post Tittle</th>\r\n                                        <th>Price</th>\r\n                                        <th>Category</th>\r\n                                        <th>Guests</th>\r\n                                        <th>Bedrooms</th>\r\n                                        <th>Bathrooms</th>\r\n                                        <th>Status</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {this.state.result.map(post => (\r\n                                        <tr>\r\n\r\n                                            <td>{/* <a href=\"../details.html\"> */}{post.titleUnit}{/*</a>*/}</td>\r\n                                            <td>{post.rentalPriceUnit}</td>\r\n                                            <td>{post.categoryUnit}</td>\r\n                                            <td>{post.guestsUnit}</td>\r\n                                            <td>{post.bedroomsUnit}</td>\r\n                                            <td>{post.bathroomsUnit}</td>\r\n                                            {post.statusUnit === \"pending\" ? <td><button onClick={() => this.MakeApprove(post._id)} className=\"post-status pending\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Click To Approve\">{post.statusUnit}</button></td> : <td><span className=\"post-status approve\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Approve post\">{post.statusUnit}</span></td>}\r\n                                            <td><button style={{ backgroundColor: \"white\", borderColor: \"white\" }} onClick={() => this.delete(post._id)} ><i className=\"bi bi-trash text-danger\"></i></button></td>\r\n\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n\r\n                            </table>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"add-btn-wrapper\">\r\n                            {/*                             <a href=\"addpost.html\" className=\"btn btn-default add-btn mt-3\"><i className=\"bi bi-plus-circle mr-1\"></i> Add New Post</a>\r\n */}                        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <footer className=\"mt-5\">\r\n                            <div className=\"footer mt-5 p-3 text-center text-dark \">\r\n                                <span>Copyright copy 2021 All rights reserved | Made with ♥ by ITI Aswan Mearn Stack</span>\r\n                            </div>\r\n                        </footer>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AllPosts;"],"sourceRoot":""}